<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>flow360.component.flow360_params.flow360_params &#8212; flow360 python client  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=12dfc556" />
    <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for flow360.component.flow360_params.flow360_params</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Flow360 solver parameters</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># pylint: disable=too-many-lines</span>
<span class="c1"># pylint: disable=unused-import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABCMeta</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Callable</span><span class="p">,</span>
    <span class="n">Dict</span><span class="p">,</span>
    <span class="n">List</span><span class="p">,</span>
    <span class="n">NoReturn</span><span class="p">,</span>
    <span class="n">Optional</span><span class="p">,</span>
    <span class="n">Tuple</span><span class="p">,</span>
    <span class="n">Union</span><span class="p">,</span>
    <span class="n">get_args</span><span class="p">,</span>
    <span class="n">get_type_hints</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">import</span> <span class="nn">pydantic</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">StrictStr</span>
<span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">flow360.flags</span> <span class="kn">import</span> <span class="n">Flags</span>

<span class="kn">from</span> <span class="nn">...error_messages</span> <span class="kn">import</span> <span class="n">unit_system_inconsistent_msg</span><span class="p">,</span> <span class="n">use_unit_system_msg</span>
<span class="kn">from</span> <span class="nn">...exceptions</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Flow360ConfigError</span><span class="p">,</span>
    <span class="n">Flow360NotImplementedError</span><span class="p">,</span>
    <span class="n">Flow360RuntimeError</span><span class="p">,</span>
    <span class="n">Flow360ValidationError</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">...log</span> <span class="kn">import</span> <span class="n">log</span>
<span class="kn">from</span> <span class="nn">...user_config</span> <span class="kn">import</span> <span class="n">UserConfig</span>
<span class="kn">from</span> <span class="nn">...version</span> <span class="kn">import</span> <span class="n">__version__</span>
<span class="kn">from</span> <span class="nn">..constants</span> <span class="kn">import</span> <span class="n">constants</span>
<span class="kn">from</span> <span class="nn">..types</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Axis</span><span class="p">,</span>
    <span class="n">Coordinate</span><span class="p">,</span>
    <span class="n">NonNegativeFloat</span><span class="p">,</span>
    <span class="n">PositiveFloat</span><span class="p">,</span>
    <span class="n">PositiveInt</span><span class="p">,</span>
    <span class="n">Vector</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">..utils</span> <span class="kn">import</span> <span class="n">_get_value_or_none</span><span class="p">,</span> <span class="n">beta_feature</span>
<span class="kn">from</span> <span class="nn">.boundaries</span> <span class="kn">import</span> <span class="n">BoundaryType</span><span class="p">,</span> <span class="n">WallFunction</span>
<span class="kn">from</span> <span class="nn">.conversions</span> <span class="kn">import</span> <span class="n">ExtraDimensionedProperty</span>
<span class="kn">from</span> <span class="nn">.flow360_legacy</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">LegacyModel</span><span class="p">,</span>
    <span class="n">get_output_fields</span><span class="p">,</span>
    <span class="n">try_add_discriminator</span><span class="p">,</span>
    <span class="n">try_add_unit</span><span class="p">,</span>
    <span class="n">try_set</span><span class="p">,</span>
    <span class="n">try_update</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.flow360_output</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AeroacousticOutput</span><span class="p">,</span>
    <span class="n">AnimationSettings</span><span class="p">,</span>
    <span class="n">AnimationSettingsExtended</span><span class="p">,</span>
    <span class="n">IsoSurfaceOutput</span><span class="p">,</span>
    <span class="n">IsoSurfaceOutputLegacy</span><span class="p">,</span>
    <span class="n">IsoSurfaces</span><span class="p">,</span>
    <span class="n">MonitorOutput</span><span class="p">,</span>
    <span class="n">Monitors</span><span class="p">,</span>
    <span class="n">ProbeMonitor</span><span class="p">,</span>
    <span class="n">SliceOutput</span><span class="p">,</span>
    <span class="n">SliceOutputLegacy</span><span class="p">,</span>
    <span class="n">SurfaceIntegralMonitor</span><span class="p">,</span>
    <span class="n">SurfaceOutput</span><span class="p">,</span>
    <span class="n">SurfaceOutputLegacy</span><span class="p">,</span>
    <span class="n">Surfaces</span><span class="p">,</span>
    <span class="n">VolumeOutput</span><span class="p">,</span>
    <span class="n">VolumeOutputLegacy</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.initial_condition</span> <span class="kn">import</span> <span class="n">InitialConditions</span>
<span class="kn">from</span> <span class="nn">.params_base</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">DeprecatedAlias</span><span class="p">,</span>
    <span class="n">Flow360BaseModel</span><span class="p">,</span>
    <span class="n">Flow360SortableBaseModel</span><span class="p">,</span>
    <span class="n">_self_named_property_validator</span><span class="p">,</span>
    <span class="n">flow360_json_encoder</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.physical_properties</span> <span class="kn">import</span> <span class="n">_AirModel</span>
<span class="kn">from</span> <span class="nn">.solvers</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">HeatEquationSolver</span><span class="p">,</span>
    <span class="n">HeatEquationSolverLegacy</span><span class="p">,</span>
    <span class="n">KOmegaSST</span><span class="p">,</span>
    <span class="n">LinearSolver</span><span class="p">,</span>
    <span class="n">NavierStokesSolver</span><span class="p">,</span>
    <span class="n">NavierStokesSolverLegacy</span><span class="p">,</span>
    <span class="n">NoneSolver</span><span class="p">,</span>
    <span class="n">SpalartAllmaras</span><span class="p">,</span>
    <span class="n">TransitionModelSolver</span><span class="p">,</span>
    <span class="n">TransitionModelSolverLegacy</span><span class="p">,</span>
    <span class="n">TurbulenceModelSolverLegacy</span><span class="p">,</span>
    <span class="n">TurbulenceModelSolverType</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.time_stepping</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">BaseTimeStepping</span><span class="p">,</span>
    <span class="n">SteadyTimeStepping</span><span class="p">,</span>
    <span class="n">TimeStepping</span><span class="p">,</span>
    <span class="n">UnsteadyTimeStepping</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.unit_system</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AngularVelocityType</span><span class="p">,</span>
    <span class="n">AreaType</span><span class="p">,</span>
    <span class="n">CGS_unit_system</span><span class="p">,</span>
    <span class="n">CGSUnitSystem</span><span class="p">,</span>
    <span class="n">DensityType</span><span class="p">,</span>
    <span class="n">DimensionedType</span><span class="p">,</span>
    <span class="n">Flow360UnitSystem</span><span class="p">,</span>
    <span class="n">ImperialUnitSystem</span><span class="p">,</span>
    <span class="n">LengthType</span><span class="p">,</span>
    <span class="n">PressureType</span><span class="p">,</span>
    <span class="n">SI_unit_system</span><span class="p">,</span>
    <span class="n">SIUnitSystem</span><span class="p">,</span>
    <span class="n">TemperatureType</span><span class="p">,</span>
    <span class="n">TimeType</span><span class="p">,</span>
    <span class="n">UnitSystem</span><span class="p">,</span>
    <span class="n">UnitSystemType</span><span class="p">,</span>
    <span class="n">VelocityType</span><span class="p">,</span>
    <span class="n">ViscosityType</span><span class="p">,</span>
    <span class="n">flow360_unit_system</span><span class="p">,</span>
    <span class="n">imperial_unit_system</span><span class="p">,</span>
    <span class="n">u</span><span class="p">,</span>
    <span class="n">unit_system_manager</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.updater</span> <span class="kn">import</span> <span class="n">updater</span>
<span class="kn">from</span> <span class="nn">.validations</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">_check_aero_acoustics</span><span class="p">,</span>
    <span class="n">_check_bet_disks_3d_coefficients_in_polars</span><span class="p">,</span>
    <span class="n">_check_bet_disks_alphas_in_order</span><span class="p">,</span>
    <span class="n">_check_bet_disks_duplicate_chords_or_twists</span><span class="p">,</span>
    <span class="n">_check_bet_disks_number_of_defined_polars</span><span class="p">,</span>
    <span class="n">_check_cht_solver_settings</span><span class="p">,</span>
    <span class="n">_check_consistency_ddes_unsteady</span><span class="p">,</span>
    <span class="n">_check_consistency_ddes_volume_output</span><span class="p">,</span>
    <span class="n">_check_consistency_temperature</span><span class="p">,</span>
    <span class="n">_check_consistency_wall_function_and_surface_output</span><span class="p">,</span>
    <span class="n">_check_duplicate_boundary_name</span><span class="p">,</span>
    <span class="n">_check_equation_eval_frequency_for_unsteady_simulations</span><span class="p">,</span>
    <span class="n">_check_incompressible_navier_stokes_solver</span><span class="p">,</span>
    <span class="n">_check_periodic_boundary_mapping</span><span class="p">,</span>
    <span class="n">_check_tri_quad_boundaries</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.volume_zones</span> <span class="kn">import</span> <span class="n">FluidDynamicsVolumeZone</span><span class="p">,</span> <span class="n">ReferenceFrameType</span><span class="p">,</span> <span class="n">VolumeZoneType</span>

<span class="k">if</span> <span class="n">Flags</span><span class="o">.</span><span class="n">beta_features</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">.solvers</span> <span class="kn">import</span> <span class="n">NavierStokesSolverType</span>
    <span class="kn">from</span> <span class="nn">.turbulence_quantities</span> <span class="kn">import</span> <span class="n">TurbulenceQuantitiesType</span>


<span class="c1"># pylint: disable=invalid-name</span>
<div class="viewcode-block" id="get_time_non_dim_unit">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.get_time_non_dim_unit">[docs]</a>
<span class="k">def</span> <span class="nf">get_time_non_dim_unit</span><span class="p">(</span><span class="n">mesh_unit_length</span><span class="p">,</span> <span class="n">C_inf</span><span class="p">,</span> <span class="n">extra_msg</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    returns time non-dimensionalisation</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">mesh_unit_length</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">C_inf</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mesh_unit&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh_unit_length&quot;</span><span class="p">]</span>
        <span class="k">raise</span> <span class="n">Flow360ConfigError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You need to provide one of </span><span class="si">{</span><span class="n">required</span><span class="si">}</span><span class="s2"> AND C_inf </span><span class="si">{</span><span class="n">extra_msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mesh_unit_length</span> <span class="o">/</span> <span class="n">C_inf</span></div>



<div class="viewcode-block" id="get_length_non_dim_unit">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.get_length_non_dim_unit">[docs]</a>
<span class="k">def</span> <span class="nf">get_length_non_dim_unit</span><span class="p">(</span><span class="n">mesh_unit_length</span><span class="p">,</span> <span class="n">extra_msg</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    returns length non-dimensionalisation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mesh_unit_length</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mesh_unit&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh_unit_length&quot;</span><span class="p">]</span>
        <span class="k">raise</span> <span class="n">Flow360ConfigError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You need to provide one of </span><span class="si">{</span><span class="n">required</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">extra_msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mesh_unit_length</span></div>



<div class="viewcode-block" id="MeshBoundary">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.MeshBoundary">[docs]</a>
<span class="k">class</span> <span class="nc">MeshBoundary</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mesh boundary&quot;&quot;&quot;</span>

    <span class="n">no_slip_walls</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;noSlipWalls&quot;</span><span class="p">)</span></div>



<span class="k">class</span> <span class="nc">ForcePerArea</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`ForcePerArea` class for setting up force per area for Actuator Disk</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    radius : Coordinate</span>
<span class="sd">        Radius of the sampled locations in grid unit</span>

<span class="sd">    thrust : Axis</span>
<span class="sd">        Force per area in the axial direction, positive means the axial force follows the same direction as axisThrust.</span>
<span class="sd">        It is non-dimensional: trustPerArea[SI=N/m2]/rho_inf/C_inf^2</span>

<span class="sd">    circumferential : PositiveFloat</span>
<span class="sd">        Force per area in the circumferential direction, positive means the circumferential force follows the same</span>
<span class="sd">        direction as axisThrust with the right hand rule. It is non-dimensional:</span>
<span class="sd">                                                                circumferentialForcePerArea[SI=N/m2]/rho_inf/C_inf^2</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :class:`ForcePerArea`</span>
<span class="sd">        An instance of the component class ForcePerArea.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; fpa = ForcePerArea(radius=[0, 1], thrust=[1, 1], circumferential=[1, 1]) # doctest: +SKIP</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">radius</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">thrust</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">circumferential</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>

    <span class="c1"># pylint: disable=no-self-argument</span>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">check_len</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        root validator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">radius</span><span class="p">,</span> <span class="n">thrust</span><span class="p">,</span> <span class="n">circumferential</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;radius&quot;</span><span class="p">),</span>
            <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thrust&quot;</span><span class="p">),</span>
            <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;circumferential&quot;</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">thrust</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">circumferential</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;length of radius, thrust, circumferential must be the same, </span><span class="se">\</span>
<span class="s2">                but got: len(radius)=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="se">\</span>
<span class="s2">                         len(thrust)=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">thrust</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="se">\</span>
<span class="s2">                         len(circumferential)=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">circumferential</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>


<span class="k">class</span> <span class="nc">ActuatorDisk</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`ActuatorDisk` class for setting up an Actuator Disk</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    center : Coordinate</span>
<span class="sd">        Coordinate of center of ActuatorDisk, eg (0, 0, 0)</span>

<span class="sd">    axis_thrust : Axis</span>
<span class="sd">        direction of thrust, it is a unit vector</span>

<span class="sd">    thickness : PositiveFloat</span>
<span class="sd">        Thickness of Actuator Disk in mesh units</span>

<span class="sd">    force_per_area : :class:`ForcePerArea`</span>
<span class="sd">        Force per Area data for actuator disk. See ActuatorDisk.ForcePerArea for details</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :class:`ActuatorDisk`</span>
<span class="sd">        An instance of the component class ActuatorDisk.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; ad = ActuatorDisk(center=(0, 0, 0), axis_thrust=(0, 0, 1), thickness=20,</span>
<span class="sd">    ... force_per_area=ForcePerArea(...))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">center</span><span class="p">:</span> <span class="n">Coordinate</span>
    <span class="n">axis_thrust</span><span class="p">:</span> <span class="n">Axis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;axisThrust&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Axis thrust&quot;</span><span class="p">)</span>
    <span class="n">thickness</span><span class="p">:</span> <span class="n">PositiveFloat</span>
    <span class="n">force_per_area</span><span class="p">:</span> <span class="n">ForcePerArea</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;forcePerArea&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Force per area&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">SlidingInterface</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`SlidingInterface` class for setting up sliding interface</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    center : Coordinate</span>
<span class="sd">        Coordinate representing the origin of rotation, eg. (0, 0, 0)</span>

<span class="sd">    axis : Axis</span>
<span class="sd">        Axis of rotation, eg. (0, 0, 1)</span>

<span class="sd">    stationary_patches : List[str]</span>
<span class="sd">        A list of static patch names of an interface</span>

<span class="sd">    rotating_patches : List[str]</span>
<span class="sd">        A list of dynamic patch names of an interface</span>

<span class="sd">    volume_name : Union[str, int, List[str], List[int]]</span>
<span class="sd">        A list of dynamic volume zones related to the above {omega, centerOfRotation, axisOfRotation}</span>

<span class="sd">    name: str, optional</span>
<span class="sd">        Name of slidingInterface</span>

<span class="sd">    parent_volume_name : str, optional</span>
<span class="sd">        Name of the volume zone that the rotating reference frame is contained in, used to compute the acceleration in</span>
<span class="sd">        the nested rotating reference frame</span>

<span class="sd">    theta_radians : str, optional</span>
<span class="sd">        Expression for rotation angle (in radians) as a function of time</span>

<span class="sd">    theta_degrees : str, optional</span>
<span class="sd">        Expression for rotation angle (in degrees) as a function of time</span>

<span class="sd">    omega : Union[float, Omega], optional</span>
<span class="sd">        Nondimensional rotating speed, radians/nondim-unit-time</span>

<span class="sd">    omega_radians</span>
<span class="sd">        Nondimensional rotating speed, radians/nondim-unit-time</span>

<span class="sd">    omega_degrees</span>
<span class="sd">        Nondimensional rotating speed, degrees/nondim-unit-time</span>

<span class="sd">    is_dynamic</span>
<span class="sd">        Whether rotation of this interface is dictated by userDefinedDynamics</span>


<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :class:`SlidingInterface`</span>
<span class="sd">        An instance of the component class SlidingInterface.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; si = SlidingInterface(</span>
<span class="sd">            center=(0, 0, 0),</span>
<span class="sd">            axis=(0, 0, 1),</span>
<span class="sd">            stationary_patches=[&#39;patch1&#39;],</span>
<span class="sd">            rotating_patches=[&#39;patch2&#39;],</span>
<span class="sd">            volume_name=&#39;volume1&#39;,</span>
<span class="sd">            omega=1</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">center</span><span class="p">:</span> <span class="n">Coordinate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;centerOfRotation&quot;</span><span class="p">)</span>
    <span class="n">axis</span><span class="p">:</span> <span class="n">Axis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;axisOfRotation&quot;</span><span class="p">)</span>
    <span class="n">stationary_patches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;stationaryPatches&quot;</span><span class="p">)</span>
    <span class="n">rotating_patches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;rotatingPatches&quot;</span><span class="p">)</span>
    <span class="n">volume_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeName&quot;</span><span class="p">)</span>
    <span class="n">parent_volume_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;parentVolumeName&quot;</span><span class="p">)</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;interfaceName&quot;</span><span class="p">)</span>
    <span class="n">theta_radians</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;thetaRadians&quot;</span><span class="p">)</span>
    <span class="n">theta_degrees</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;thetaDegrees&quot;</span><span class="p">)</span>
    <span class="n">omega_radians</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;omegaRadians&quot;</span><span class="p">)</span>
    <span class="n">omega_degrees</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;omegaDegrees&quot;</span><span class="p">)</span>
    <span class="n">is_dynamic</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;isDynamic&quot;</span><span class="p">)</span>

    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">require_one_of</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;omega_radians&quot;</span><span class="p">,</span>
            <span class="s2">&quot;omega_degrees&quot;</span><span class="p">,</span>
            <span class="s2">&quot;theta_radians&quot;</span><span class="p">,</span>
            <span class="s2">&quot;theta_degrees&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_dynamic&quot;</span><span class="p">,</span>
        <span class="p">]</span>


<div class="viewcode-block" id="MeshSlidingInterface">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.MeshSlidingInterface">[docs]</a>
<span class="k">class</span> <span class="nc">MeshSlidingInterface</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sliding interface component</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">stationary_patches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;stationaryPatches&quot;</span><span class="p">)</span>
    <span class="n">rotating_patches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;rotatingPatches&quot;</span><span class="p">)</span>
    <span class="n">axis</span><span class="p">:</span> <span class="n">Axis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;axisOfRotation&quot;</span><span class="p">)</span>
    <span class="n">center</span><span class="p">:</span> <span class="n">Coordinate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;centerOfRotation&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="MeshSlidingInterface.from_case_sliding_interface">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.MeshSlidingInterface.from_case_sliding_interface">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_case_sliding_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">si</span><span class="p">:</span> <span class="n">SlidingInterface</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create mesh sliding interface (for Flow360Mesh.json) from case params SlidingInterface</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">stationary_patches</span><span class="o">=</span><span class="n">si</span><span class="o">.</span><span class="n">stationary_patches</span><span class="p">,</span>
            <span class="n">rotating_patches</span><span class="o">=</span><span class="n">si</span><span class="o">.</span><span class="n">rotating_patches</span><span class="p">,</span>
            <span class="n">axis</span><span class="o">=</span><span class="n">si</span><span class="o">.</span><span class="n">axis</span><span class="p">,</span>
            <span class="n">center</span><span class="o">=</span><span class="n">si</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
        <span class="p">)</span></div>
</div>



<span class="k">class</span> <span class="nc">_GenericBoundaryWrapper</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
    <span class="n">v</span><span class="p">:</span> <span class="n">BoundaryType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Boundaries</span><span class="p">(</span><span class="n">Flow360SortableBaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`Boundaries` class for setting up Boundaries</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    &lt;boundary_name&gt; : BoundaryType</span>
<span class="sd">        Supported boundary types: Union[NoSlipWall, SlipWall, FreestreamBoundary, IsothermalWall, HeatFluxWall,</span>
<span class="sd">                                        SubsonicOutflowPressure, SubsonicOutflowMach, SubsonicInflow,</span>
<span class="sd">                                        SupersonicInflow, SlidingInterfaceBoundary, WallFunction,</span>
<span class="sd">                                        MassInflow, MassOutflow, SolidIsothermalWall, SolidAdiabaticWall,</span>
<span class="sd">                                        RiemannInvariant, VelocityInflow, PressureOutflow, SymmetryPlane]</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :class:`Boundaries`</span>
<span class="sd">        An instance of the component class Boundaries.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; boundaries = Boundaries(</span>
<span class="sd">            wing=NoSlipWall(),</span>
<span class="sd">            symmetry=SlipWall(),</span>
<span class="sd">            freestream=FreestreamBoundary()</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_subtypes</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">get_args</span><span class="p">(</span><span class="n">_GenericBoundaryWrapper</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="s2">&quot;v&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">type_</span><span class="p">))</span>

    <span class="c1"># pylint: disable=no-self-argument</span>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_boundary</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validator for boundary list section</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValidationError</span>
<span class="sd">            When boundary is incorrect</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_self_named_property_validator</span><span class="p">(</span>
            <span class="n">values</span><span class="p">,</span> <span class="n">_GenericBoundaryWrapper</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;is not any of supported boundary types.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ</span>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Boundaries</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_solver</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_GenericVolumeZonesWrapper</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
    <span class="n">v</span><span class="p">:</span> <span class="n">VolumeZoneType</span>


<span class="k">class</span> <span class="nc">VolumeZones</span><span class="p">(</span><span class="n">Flow360SortableBaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`VolumeZones` class for setting up volume zones</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    &lt;zone_name&gt; : Union[FluidDynamicsVolumeZone, HeatTransferVolumeZone]</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :class:`VolumeZones`</span>
<span class="sd">        An instance of the component class VolumeZones.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; zones = VolumeZones(</span>
<span class="sd">            zone1=FluidDynamicsVolumeZone(),</span>
<span class="sd">            zone2=HeatTransferVolumeZone(thermal_conductivity=1)</span>
<span class="sd">        )</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_subtypes</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">get_args</span><span class="p">(</span><span class="n">_GenericVolumeZonesWrapper</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="s2">&quot;v&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">type_</span><span class="p">))</span>

    <span class="c1"># pylint: disable=no-self-argument</span>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_zone</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validator for zone list section</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValidationError</span>
<span class="sd">            When zone is incorrect</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_self_named_property_validator</span><span class="p">(</span>
            <span class="n">values</span><span class="p">,</span> <span class="n">_GenericVolumeZonesWrapper</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;is not any of supported volume zone types.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ</span>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VolumeZones</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_solver</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<div class="viewcode-block" id="Geometry">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Geometry">[docs]</a>
<span class="k">class</span> <span class="nc">Geometry</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Geometry component</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ref_area</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AreaType</span><span class="o">.</span><span class="n">Positive</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;refArea&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference area&quot;</span><span class="p">)</span>
    <span class="n">moment_center</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LengthType</span><span class="o">.</span><span class="n">Point</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;momentCenter&quot;</span><span class="p">)</span>
    <span class="n">moment_length</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LengthType</span><span class="o">.</span><span class="n">Moment</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;momentLength&quot;</span><span class="p">)</span>
    <span class="n">mesh_unit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LengthType</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ</span>
<div class="viewcode-block" id="Geometry.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Geometry.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Geometry</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_solver</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mesh_unit&quot;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">allow_but_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;meshName&quot;</span><span class="p">,</span> <span class="s2">&quot;endianness&quot;</span><span class="p">]</span></div>



<div class="viewcode-block" id="FreestreamBase">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamBase">[docs]</a>
<span class="k">class</span> <span class="nc">FreestreamBase</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Freestream component</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;alphaAngle&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Alpha angle [deg]&quot;</span><span class="p">)</span>
    <span class="n">beta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;betaAngle&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Beta angle [deg]&quot;</span><span class="p">)</span>
    <span class="n">turbulent_viscosity_ratio</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">NonNegativeFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;turbulentViscosityRatio&quot;</span>
    <span class="p">)</span>
    <span class="c1">##  should be oneOf{turbulent_viscosity_ratio, turbulence_quantities}, legacy update also pending.</span>
    <span class="c1">## The validation for turbulenceQuantities (make sure we have correct combinations, maybe in root validator)</span>
    <span class="c1">## is also pending. TODO</span>
    <span class="k">if</span> <span class="n">Flags</span><span class="o">.</span><span class="n">beta_features</span><span class="p">():</span>
        <span class="n">turbulence_quantities</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TurbulenceQuantitiesType</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;turbulenceQuantities&quot;</span>
        <span class="p">)</span>

    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">exclude_on_flow360_export</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;model_type&quot;</span><span class="p">]</span></div>



<div class="viewcode-block" id="FreestreamFromMach">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamFromMach">[docs]</a>
<span class="k">class</span> <span class="nc">FreestreamFromMach</span><span class="p">(</span><span class="n">FreestreamBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Freestream component using Mach number</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;FromMach&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s2">&quot;FromMach&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Mach</span><span class="p">:</span> <span class="n">PositiveFloat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Mach number&quot;</span><span class="p">)</span>
    <span class="n">Mach_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;MachRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference Mach number&quot;</span><span class="p">)</span>
    <span class="n">mu_ref</span><span class="p">:</span> <span class="n">PositiveFloat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;muRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Dynamic viscosity [non-dim]&quot;</span><span class="p">)</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Temperature [K]&quot;</span>
    <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ, unused-argument</span>
<div class="viewcode-block" id="FreestreamFromMach.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamFromMach.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FreestreamFromMach</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="FreestreamFromMachReynolds">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamFromMachReynolds">[docs]</a>
<span class="k">class</span> <span class="nc">FreestreamFromMachReynolds</span><span class="p">(</span><span class="n">FreestreamBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Freestream component using Mach and Reynolds number</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;FromMachReynolds&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="s2">&quot;FromMachReynolds&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">Mach</span><span class="p">:</span> <span class="n">PositiveFloat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Mach number&quot;</span><span class="p">)</span>
    <span class="n">Mach_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;MachRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference Mach number&quot;</span><span class="p">)</span>
    <span class="n">Reynolds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">confloat</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">allow_inf_nan</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;inf&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reynolds number&quot;</span>
    <span class="p">)</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Temperature [K]&quot;</span>
    <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ, unused-argument</span>
<div class="viewcode-block" id="FreestreamFromMachReynolds.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamFromMachReynolds.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FreestreamFromMach</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="ZeroFreestream">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.ZeroFreestream">[docs]</a>
<span class="k">class</span> <span class="nc">ZeroFreestream</span><span class="p">(</span><span class="n">FreestreamBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Zero velocity freestream component</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ZeroMach&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s2">&quot;ZeroMach&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Mach</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Mach number&quot;</span><span class="p">)</span>
    <span class="n">Mach_ref</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">confloat</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mf">1.0e-12</span><span class="p">)</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;MachRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference Mach number&quot;</span><span class="p">)</span>
    <span class="n">mu_ref</span><span class="p">:</span> <span class="n">PositiveFloat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;muRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Dynamic viscosity [non-dim]&quot;</span><span class="p">)</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Temperature [K]&quot;</span>
    <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ, unused-argument</span>
<div class="viewcode-block" id="ZeroFreestream.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.ZeroFreestream.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ZeroFreestream</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="FreestreamFromVelocity">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamFromVelocity">[docs]</a>
<span class="k">class</span> <span class="nc">FreestreamFromVelocity</span><span class="p">(</span><span class="n">FreestreamBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Freestream component using dimensioned velocity</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;FromVelocity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s2">&quot;FromVelocity&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">velocity</span><span class="p">:</span> <span class="n">VelocityType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">velocity_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VelocityType</span><span class="o">.</span><span class="n">Positive</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;velocityRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference velocity&quot;</span>
    <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ</span>
<div class="viewcode-block" id="FreestreamFromVelocity.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamFromVelocity.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FreestreamFromMach</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ExtraDimensionedProperty</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;viscosity&quot;</span><span class="p">,</span>
                <span class="n">dependency_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">],</span>
                <span class="n">value_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">fluid_properties</span><span class="o">.</span><span class="n">to_fluid_properties</span><span class="p">()</span><span class="o">.</span><span class="n">viscosity</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ExtraDimensionedProperty</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
                <span class="n">dependency_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">],</span>
                <span class="n">value_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">fluid_properties</span><span class="o">.</span><span class="n">to_fluid_properties</span><span class="p">()</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>

        <span class="n">solver_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_dimensions_to_solver</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;velocity&quot;</span><span class="p">)</span>
        <span class="n">mach_ref</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;velocity_ref&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">mu_ref</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;viscosity&quot;</span><span class="p">)</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;temperature&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;K&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mach_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mach_ref</span> <span class="o">=</span> <span class="n">mach_ref</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">FreestreamFromMach</span><span class="p">(</span>
            <span class="n">Mach</span><span class="o">=</span><span class="n">mach</span><span class="p">,</span> <span class="n">Mach_ref</span><span class="o">=</span><span class="n">mach_ref</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span> <span class="n">mu_ref</span><span class="o">=</span><span class="n">mu_ref</span><span class="p">,</span> <span class="o">**</span><span class="n">solver_values</span>
        <span class="p">)</span></div>
</div>



<div class="viewcode-block" id="ZeroFreestreamFromVelocity">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.ZeroFreestreamFromVelocity">[docs]</a>
<span class="k">class</span> <span class="nc">ZeroFreestreamFromVelocity</span><span class="p">(</span><span class="n">FreestreamBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :class: Zero velocity freestream component using dimensioned velocity</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ZeroVelocity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s2">&quot;ZeroVelocity&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">velocity</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">velocity_ref</span><span class="p">:</span> <span class="n">VelocityType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;velocityRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference velocity&quot;</span>
    <span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ</span>
<div class="viewcode-block" id="ZeroFreestreamFromVelocity.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.ZeroFreestreamFromVelocity.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ZeroFreestream</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">extra</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ExtraDimensionedProperty</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;viscosity&quot;</span><span class="p">,</span>
                <span class="n">dependency_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">],</span>
                <span class="n">value_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">fluid_properties</span><span class="o">.</span><span class="n">to_fluid_properties</span><span class="p">()</span><span class="o">.</span><span class="n">viscosity</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ExtraDimensionedProperty</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
                <span class="n">dependency_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">],</span>
                <span class="n">value_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">fluid_properties</span><span class="o">.</span><span class="n">to_fluid_properties</span><span class="p">()</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
        <span class="n">solver_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_dimensions_to_solver</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">mach</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;velocity&quot;</span><span class="p">)</span>
        <span class="n">mach_ref</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;velocity_ref&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">mu_ref</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;viscosity&quot;</span><span class="p">)</span>
        <span class="n">temperature</span> <span class="o">=</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;temperature&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">&quot;K&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">solver_values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">solver_values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ZeroFreestream</span><span class="p">(</span>
            <span class="n">Mach</span><span class="o">=</span><span class="n">mach</span><span class="p">,</span> <span class="n">Mach_ref</span><span class="o">=</span><span class="n">mach_ref</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span> <span class="n">mu_ref</span><span class="o">=</span><span class="n">mu_ref</span><span class="p">,</span> <span class="o">**</span><span class="n">solver_values</span>
        <span class="p">)</span></div>
</div>



<span class="n">FreestreamType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span>
    <span class="n">FreestreamFromMach</span><span class="p">,</span>
    <span class="n">FreestreamFromMachReynolds</span><span class="p">,</span>
    <span class="n">FreestreamFromVelocity</span><span class="p">,</span>
    <span class="n">ZeroFreestream</span><span class="p">,</span>
    <span class="n">ZeroFreestreamFromVelocity</span><span class="p">,</span>
<span class="p">]</span>


<span class="k">class</span> <span class="nc">_FluidProperties</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing fluid properties.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    temperature : TemperatureType</span>
<span class="sd">        Temperature of the fluid.</span>
<span class="sd">    pressure : PressureType</span>
<span class="sd">        Pressure of the fluid.</span>
<span class="sd">    density : DensityType</span>
<span class="sd">        Density of the fluid.</span>
<span class="sd">    viscosity : ViscosityType</span>
<span class="sd">        Viscosity of the fluid.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">temperature</span><span class="p">:</span> <span class="n">TemperatureType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">pressure</span><span class="p">:</span> <span class="n">PressureType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">density</span><span class="p">:</span> <span class="n">DensityType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">viscosity</span><span class="p">:</span> <span class="n">ViscosityType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">to_fluid_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_FluidProperties</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;returns an instance of _FluidProperties&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span>


<span class="k">class</span> <span class="nc">AirPressureTemperature</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing air properties based on pressure and temperature.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    pressure : PressureType</span>
<span class="sd">        Pressure of the air.</span>
<span class="sd">    temperature : TemperatureType</span>
<span class="sd">        Temperature of the air.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;AirPressure&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s2">&quot;AirPressure&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pressure</span><span class="p">:</span> <span class="n">PressureType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="n">TemperatureType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">to_fluid_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_FluidProperties</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the instance to _FluidProperties, incorporating temperature, pressure, density, and viscosity.&quot;&quot;&quot;</span>

        <span class="n">fluid_properties</span> <span class="o">=</span> <span class="n">_FluidProperties</span><span class="p">(</span>
            <span class="n">temperature</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span>
            <span class="n">pressure</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pressure</span><span class="p">,</span>
            <span class="n">density</span><span class="o">=</span><span class="n">_AirModel</span><span class="o">.</span><span class="n">density_from_pressure_temperature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pressure</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">),</span>
            <span class="n">viscosity</span><span class="o">=</span><span class="n">_AirModel</span><span class="o">.</span><span class="n">viscosity_from_temperature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">fluid_properties</span>

    <span class="k">def</span> <span class="nf">speed_of_sound</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VelocityType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the speed of sound in the air based on the temperature.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_AirModel</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">AirDensityTemperature</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing air properties based on density and temperature.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    temperature : TemperatureType</span>
<span class="sd">        Temperature of the air.</span>
<span class="sd">    density : DensityType</span>
<span class="sd">        Density of the air.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;AirDensity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="s2">&quot;AirDensity&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;modelType&quot;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">density</span><span class="p">:</span> <span class="n">DensityType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="n">TemperatureType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">to_fluid_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_FluidProperties</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the instance to _FluidProperties, incorporating temperature, pressure, density, and viscosity.&quot;&quot;&quot;</span>

        <span class="n">fluid_properties</span> <span class="o">=</span> <span class="n">_FluidProperties</span><span class="p">(</span>
            <span class="n">temperature</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span>
            <span class="n">pressure</span><span class="o">=</span><span class="n">_AirModel</span><span class="o">.</span><span class="n">pressure_from_density_temperature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">),</span>
            <span class="n">density</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">density</span><span class="p">,</span>
            <span class="n">viscosity</span><span class="o">=</span><span class="n">_AirModel</span><span class="o">.</span><span class="n">viscosity_from_temperature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">fluid_properties</span>

    <span class="k">def</span> <span class="nf">speed_of_sound</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VelocityType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates the speed of sound in the air based on the temperature.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_AirModel</span><span class="o">.</span><span class="n">speed_of_sound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">USstandardAtmosphere</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the U.S. Standard Atmosphere.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    altitude : LengthType</span>
<span class="sd">        Altitude above sea level.</span>
<span class="sd">    temperature_offset : TemperatureType, default: 0</span>
<span class="sd">        Offset to the standard temperature.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">altitude</span><span class="p">:</span> <span class="n">LengthType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">temperature_offset</span><span class="p">:</span> <span class="n">TemperatureType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">Flow360NotImplementedError</span><span class="p">(</span><span class="s2">&quot;USstandardAtmosphere not implemented yet.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_fluid_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_FluidProperties</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the instance to _FluidProperties, incorporating temperature, pressure, density, and viscosity.&quot;&quot;&quot;</span>


<span class="c1"># pylint: disable=no-member</span>
<span class="n">air</span> <span class="o">=</span> <span class="n">AirDensityTemperature</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mf">288.15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">1.225</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kg</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>

<span class="n">FluidPropertyType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="n">AirDensityTemperature</span><span class="p">,</span> <span class="n">AirPressureTemperature</span><span class="p">]</span>


<div class="viewcode-block" id="BETDiskTwist">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDiskTwist">[docs]</a>
<span class="k">class</span> <span class="nc">BETDiskTwist</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`BETDiskTwist` class&quot;&quot;&quot;</span>

    <span class="n">radius</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">twist</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span></div>



<div class="viewcode-block" id="BETDiskChord">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDiskChord">[docs]</a>
<span class="k">class</span> <span class="nc">BETDiskChord</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`BETDiskChord` class&quot;&quot;&quot;</span>

    <span class="n">radius</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">chord</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span></div>



<div class="viewcode-block" id="BETDiskSectionalPolar">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDiskSectionalPolar">[docs]</a>
<span class="k">class</span> <span class="nc">BETDiskSectionalPolar</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`BETDiskSectionalPolar` class&quot;&quot;&quot;</span>

    <span class="n">lift_coeffs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;liftCoeffs&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Lift coefficients&quot;</span>
    <span class="p">)</span>
    <span class="n">drag_coeffs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;dragCoeffs&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Drag coefficients&quot;</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="BETDisk">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDisk">[docs]</a>
<span class="k">class</span> <span class="nc">BETDisk</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`BETDisk` class&quot;&quot;&quot;</span>

    <span class="n">rotation_direction_rule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;leftHand&quot;</span><span class="p">,</span> <span class="s2">&quot;rightHand&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;rotationDirectionRule&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Rotation direction&quot;</span>
    <span class="p">)</span>
    <span class="n">center_of_rotation</span><span class="p">:</span> <span class="n">Coordinate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;centerOfRotation&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Center of rotation&quot;</span>
    <span class="p">)</span>
    <span class="n">axis_of_rotation</span><span class="p">:</span> <span class="n">Axis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;axisOfRotation&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Axis of rotation&quot;</span><span class="p">)</span>
    <span class="n">number_of_blades</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">conint</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">le</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;numberOfBlades&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Number of blades&quot;</span>
    <span class="p">)</span>
    <span class="n">radius</span><span class="p">:</span> <span class="n">LengthType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;radius&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Radius&quot;</span><span class="p">)</span>
    <span class="n">omega</span><span class="p">:</span> <span class="n">AngularVelocityType</span><span class="o">.</span><span class="n">NonNegative</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;omega&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Angular velocity (omega)&quot;</span>
    <span class="p">)</span>
    <span class="n">chord_ref</span><span class="p">:</span> <span class="n">LengthType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;chordRef&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reference chord&quot;</span><span class="p">)</span>
    <span class="n">thickness</span><span class="p">:</span> <span class="n">LengthType</span><span class="o">.</span><span class="n">Positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;thickness&quot;</span><span class="p">)</span>
    <span class="n">n_loading_nodes</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">conint</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">le</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;nLoadingNodes&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Loading nodes&quot;</span>
    <span class="p">)</span>
    <span class="n">blade_line_chord</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LengthType</span><span class="o">.</span><span class="n">NonNegative</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;bladeLineChord&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Blade line chord&quot;</span>
    <span class="p">)</span>
    <span class="n">initial_blade_direction</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Axis</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;initialBladeDirection&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Initial blade direction&quot;</span>
    <span class="p">)</span>
    <span class="n">tip_gap</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">LengthType</span><span class="o">.</span><span class="n">NonNegative</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;inf&quot;</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;tipGap&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Tip gap&quot;</span>
    <span class="p">)</span>
    <span class="n">mach_numbers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NonNegativeFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;MachNumbers&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Mach numbers&quot;</span><span class="p">)</span>
    <span class="n">reynolds_numbers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ReynoldsNumbers&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Reynolds numbers&quot;</span>
    <span class="p">)</span>
    <span class="n">alphas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">twists</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BETDiskTwist</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;BET disk twists&quot;</span><span class="p">)</span>
    <span class="n">chords</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BETDiskChord</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;BET disk chords&quot;</span><span class="p">)</span>
    <span class="n">sectional_polars</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">BETDiskSectionalPolar</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;sectionalPolars&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Sectional polars&quot;</span>
    <span class="p">)</span>
    <span class="n">sectional_radiuses</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;sectionalRadiuses&quot;</span><span class="p">,</span> <span class="n">displayed</span><span class="o">=</span><span class="s2">&quot;Sectional radiuses&quot;</span>
    <span class="p">)</span>

    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="BETDisk.check_bet_disks_alphas_in_order">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDisk.check_bet_disks_alphas_in_order">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_bet_disks_alphas_in_order</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check order of alphas in BET disks</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_bet_disks_alphas_in_order</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="BETDisk.check_bet_disks_duplicate_chords_or_twists">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDisk.check_bet_disks_duplicate_chords_or_twists">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_bet_disks_duplicate_chords_or_twists</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check duplication of radial locations in chords or twists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_bet_disks_duplicate_chords_or_twists</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="BETDisk.check_bet_disks_number_of_defined_polars">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDisk.check_bet_disks_number_of_defined_polars">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_bet_disks_number_of_defined_polars</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check number of polars</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_bet_disks_number_of_defined_polars</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="BETDisk.check_bet_disks_3d_coefficients_in_polars">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDisk.check_bet_disks_3d_coefficients_in_polars">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_bet_disks_3d_coefficients_in_polars</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check dimension of force coefficients in polars</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_bet_disks_3d_coefficients_in_polars</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="PorousMediumVolumeZone">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.PorousMediumVolumeZone">[docs]</a>
<span class="k">class</span> <span class="nc">PorousMediumVolumeZone</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`PorousMediumVolumeZone` class&quot;&quot;&quot;</span>

    <span class="n">zone_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;box&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;zoneType&quot;</span><span class="p">)</span>
    <span class="n">center</span><span class="p">:</span> <span class="n">Coordinate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">lengths</span><span class="p">:</span> <span class="n">Coordinate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">axes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Coordinate</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">min_items</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_items</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">windowing_lengths</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Coordinate</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;windowingLengths&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="PorousMedium">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.PorousMedium">[docs]</a>
<span class="k">class</span> <span class="nc">PorousMedium</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`PorousMedium` class&quot;&quot;&quot;</span>

    <span class="n">darcy_coefficient</span><span class="p">:</span> <span class="n">Vector</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;DarcyCoefficient&quot;</span><span class="p">)</span>
    <span class="n">forchheimer_coefficient</span><span class="p">:</span> <span class="n">Vector</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ForchheimerCoefficient&quot;</span><span class="p">)</span>
    <span class="n">volume_zone</span><span class="p">:</span> <span class="n">PorousMediumVolumeZone</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeZone&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="UserDefinedDynamic">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.UserDefinedDynamic">[docs]</a>
<span class="k">class</span> <span class="nc">UserDefinedDynamic</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`UserDefinedDynamic` class&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;dynamicsName&quot;</span><span class="p">)</span>
    <span class="n">input_vars</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;inputVars&quot;</span><span class="p">)</span>
    <span class="n">constants</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">output_vars</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;outputVars&quot;</span><span class="p">)</span>
    <span class="n">state_vars_initial_value</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;stateVarsInitialValue&quot;</span><span class="p">)</span>
    <span class="n">update_law</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;updateLaw&quot;</span><span class="p">)</span>
    <span class="n">input_boundary_patches</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;inputBoundaryPatches&quot;</span><span class="p">)</span>
    <span class="n">output_target_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;outputTargetName&quot;</span><span class="p">)</span></div>



<span class="c1"># pylint: disable=too-many-instance-attributes</span>
<div class="viewcode-block" id="Flow360Params">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params">[docs]</a>
<span class="k">class</span> <span class="nc">Flow360Params</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Flow360 solver parameters</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">unit_system</span><span class="p">:</span> <span class="n">UnitSystemType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;unitSystem&quot;</span><span class="p">,</span> <span class="n">mutable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">__version__</span><span class="p">,</span> <span class="n">mutable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">geometry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Geometry</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">fluid_properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FluidPropertyType</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fluidProperties&quot;</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span>
    <span class="p">)</span>
    <span class="n">boundaries</span><span class="p">:</span> <span class="n">Boundaries</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">initial_condition</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">InitialConditions</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;initialCondition&quot;</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;type&quot;</span>
    <span class="p">)</span>
    <span class="n">time_stepping</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TimeStepping</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;timeStepping&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">SteadyTimeStepping</span><span class="p">(),</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span>
    <span class="p">)</span>
    <span class="n">turbulence_model_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TurbulenceModelSolverType</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;turbulenceModelSolver&quot;</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span>
    <span class="p">)</span>
    <span class="n">transition_model_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TransitionModelSolver</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;transitionModelSolver&quot;</span>
    <span class="p">)</span>
    <span class="n">heat_equation_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HeatEquationSolver</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;heatEquationSolver&quot;</span><span class="p">)</span>
    <span class="n">freestream</span><span class="p">:</span> <span class="n">FreestreamType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span>
    <span class="n">bet_disks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BETDisk</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;BETDisks&quot;</span><span class="p">)</span>
    <span class="n">actuator_disks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ActuatorDisk</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;actuatorDisks&quot;</span><span class="p">)</span>
    <span class="n">porous_media</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">PorousMedium</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;porousMedia&quot;</span><span class="p">)</span>
    <span class="n">user_defined_dynamics</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">UserDefinedDynamic</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;userDefinedDynamics&quot;</span>
    <span class="p">)</span>
    <span class="n">surface_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SurfaceOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;surfaceOutput&quot;</span><span class="p">)</span>
    <span class="n">volume_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VolumeOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeOutput&quot;</span><span class="p">)</span>
    <span class="n">slice_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SliceOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;sliceOutput&quot;</span><span class="p">)</span>
    <span class="n">iso_surface_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IsoSurfaceOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;isoSurfaceOutput&quot;</span><span class="p">)</span>
    <span class="n">monitor_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">MonitorOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;monitorOutput&quot;</span><span class="p">)</span>
    <span class="n">volume_zones</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VolumeZones</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeZones&quot;</span><span class="p">)</span>
    <span class="n">aeroacoustic_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AeroacousticOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;aeroacousticOutput&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Flags</span><span class="o">.</span><span class="n">beta_features</span><span class="p">():</span>
        <span class="n">navier_stokes_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">NavierStokesSolverType</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;navierStokesSolver&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">navier_stokes_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">NavierStokesSolver</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;navierStokesSolver&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_check_unit_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">unit_system_manager</span><span class="o">.</span><span class="n">current</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Flow360RuntimeError</span><span class="p">(</span><span class="n">use_unit_system_msg</span><span class="p">)</span>

        <span class="n">kwarg_unit_system</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;unit_system&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;unitSystem&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">kwarg_unit_system</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwarg_unit_system</span><span class="p">,</span> <span class="n">UnitSystem</span><span class="p">):</span>
                <span class="n">kwarg_unit_system</span> <span class="o">=</span> <span class="n">UnitSystem</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="o">**</span><span class="n">kwarg_unit_system</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">kwarg_unit_system</span> <span class="o">!=</span> <span class="n">unit_system_manager</span><span class="o">.</span><span class="n">current</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">Flow360RuntimeError</span><span class="p">(</span>
                    <span class="n">unit_system_inconsistent_msg</span><span class="p">(</span>
                        <span class="n">kwarg_unit_system</span><span class="o">.</span><span class="n">system_repr</span><span class="p">(),</span> <span class="n">unit_system_manager</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">system_repr</span><span class="p">()</span>
                    <span class="p">)</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">kwargs</span>

    <span class="c1"># pylint: disable=super-init-not-called</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">legacy_fallback</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">legacy_fallback</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init_no_context</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">legacy_fallback</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init_with_context</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="Flow360Params.from_file">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.from_file">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360Params</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads a :class:`Flow360BaseModel` from .json, or .yaml file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        filename : str</span>
<span class="sd">            Full path to the .yaml or .json file to load the :class:`Flow360BaseModel` from.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        :class:`Flow360Params`</span>
<span class="sd">            An instance of the component class calling `load`.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; simulation = Flow360Params.from_file(filename=&#39;folder/sim.json&#39;) # doctest: +SKIP</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_init_with_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_check_unit_system</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">unit_system</span><span class="o">=</span><span class="n">unit_system_manager</span><span class="o">.</span><span class="n">copy_current</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_no_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">legacy_fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">unit_system_manager</span><span class="o">.</span><span class="n">current</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Flow360RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;When loading params from file: Flow360Params(filename), &quot;</span>
                <span class="s2">&quot;or from dict with the legacy_fallback flag set unit &quot;</span>
                <span class="s2">&quot;context must not be used.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">legacy_fallback</span><span class="p">:</span>
            <span class="n">model_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_handle_dict</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">model_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_handle_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">version</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">unit_system</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;unitSystem&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">unit_system</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">version</span> <span class="o">!=</span> <span class="n">__version__</span><span class="p">:</span>
                <span class="n">model_dict</span> <span class="o">=</span> <span class="n">updater</span><span class="p">(</span>
                    <span class="n">version_from</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">version_to</span><span class="o">=</span><span class="n">__version__</span><span class="p">,</span> <span class="n">params_as_dict</span><span class="o">=</span><span class="n">model_dict</span>
                <span class="p">)</span>
            <span class="k">with</span> <span class="n">UnitSystem</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="o">**</span><span class="n">unit_system</span><span class="p">):</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">model_dict</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init_with_update</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_with_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_dict</span><span class="p">):</span>
        <span class="n">legacy</span> <span class="o">=</span> <span class="n">Flow360ParamsLegacy</span><span class="p">(</span><span class="o">**</span><span class="n">model_dict</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">legacy</span><span class="o">.</span><span class="n">update_model</span><span class="p">()</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360Params</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">unit_system_manager</span><span class="o">.</span><span class="n">current</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit_system</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># pylint: disable=arguments-differ</span>
<div class="viewcode-block" id="Flow360Params.to_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.to_solver">[docs]</a>
    <span class="k">def</span> <span class="nf">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360Params</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns configuration object in flow360 units system</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">unit_system_manager</span><span class="o">.</span><span class="n">current</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit_system</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">to_solver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">])</span></div>


<div class="viewcode-block" id="Flow360Params.flow360_json">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.flow360_json">[docs]</a>
    <span class="k">def</span> <span class="nf">flow360_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a JSON representation of the model, as required by Flow360</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        json</span>
<span class="sd">            Returns JSON representation of the model.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; params.flow360_json() # doctest: +SKIP</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">solver_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_solver</span><span class="p">()</span>
        <span class="n">solver_params</span><span class="o">.</span><span class="n">set_will_export_to_flow360</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">solver_params_json</span> <span class="o">=</span> <span class="n">solver_params</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">encoder</span><span class="o">=</span><span class="n">flow360_json_encoder</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">solver_params_json</span></div>


<div class="viewcode-block" id="Flow360Params.flow360_dict">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.flow360_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">flow360_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a dict representation of the model, as required by Flow360</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            Returns dict representation of the model.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; params.flow360_dict() # doctest: +SKIP</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">flow360_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow360_json</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">flow360_dict</span></div>


<div class="viewcode-block" id="Flow360Params.to_flow360_json">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.to_flow360_json">[docs]</a>
    <span class="k">def</span> <span class="nf">to_flow360_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NoReturn</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exports :class:`Flow360Params` instance to .json file</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; params.to_flow360_json() # doctest: +SKIP</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">flow360_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow360_dict</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">flow360_dict</span><span class="p">,</span> <span class="n">fh</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Flow360Params</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">Flow360Params</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;params must be type of Flow360Params&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">)</span>

<div class="viewcode-block" id="Flow360Params.construct">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.construct">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">construct</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360Params</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new model from trusted or pre-validated data.</span>
<span class="sd">        Default values are respected, but no other validation is performed.</span>
<span class="sd">        Behaves as if `Config.extra = &#39;allow&#39;` was set since it adds all passed values</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model_dict</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_init_handle_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">model_dict</span> <span class="o">=</span> <span class="n">kwargs</span>

        <span class="c1"># the default .construct() method will return field by both alias and field name so preprocessing here before</span>
        <span class="c1"># passing to .construct() method</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">alt_alias</span> <span class="ow">and</span> <span class="n">field</span><span class="o">.</span><span class="n">alias</span> <span class="ow">in</span> <span class="n">model_dict</span><span class="p">:</span>
                <span class="n">model_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="o">**</span><span class="n">model_dict</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">allow_but_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;runControl&quot;</span><span class="p">,</span> <span class="s2">&quot;testControl&quot;</span><span class="p">]</span>
        <span class="n">include_hash</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">exclude_on_flow360_export</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;unit_system&quot;</span><span class="p">]</span>

    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_consistency_wall_function_and_surface_output">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_consistency_wall_function_and_surface_output">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_consistency_wall_function_and_surface_output</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check consistency between wall function usage and surface output</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_consistency_wall_function_and_surface_output</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_temperature_consistency">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_temperature_consistency">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_temperature_consistency</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check if temperature values in freestream and fluid_properties match</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_consistency_temperature</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_consistency_ddes_volume_output">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_consistency_ddes_volume_output">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_consistency_ddes_volume_output</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check consistency between delayed detached eddy simulation and volume output</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_consistency_ddes_volume_output</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_tri_quad_boundaries">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_tri_quad_boundaries">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_tri_quad_boundaries</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check tri_ and quad_ prefix in boundary names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_tri_quad_boundaries</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_duplicate_boundary_name">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_duplicate_boundary_name">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_duplicate_boundary_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check duplicated boundary names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_duplicate_boundary_name</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_cht_solver_settings">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_cht_solver_settings">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_cht_solver_settings</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check conjugate heat transfer settings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_cht_solver_settings</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_equation_eval_frequency_for_unsteady_simulations">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_equation_eval_frequency_for_unsteady_simulations">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_equation_eval_frequency_for_unsteady_simulations</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check equation evaluation frequency for unsteady simulations</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_equation_eval_frequency_for_unsteady_simulations</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_consistency_ddes_unsteady">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_consistency_ddes_unsteady">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_consistency_ddes_unsteady</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check consistency between delayed detached eddy and unsteady simulation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_consistency_ddes_unsteady</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_periodic_boundary_mapping">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_periodic_boundary_mapping">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_periodic_boundary_mapping</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check periodic boundary mapping</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_periodic_boundary_mapping</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_aero_acoustics">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_aero_acoustics">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_aero_acoustics</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check aeroacoustics settings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_aero_acoustics</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=no-self-argument</span>
<div class="viewcode-block" id="Flow360Params.check_incompressible_navier_stokes_solver">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360Params.check_incompressible_navier_stokes_solver">[docs]</a>
    <span class="nd">@pd</span><span class="o">.</span><span class="n">root_validator</span>
    <span class="k">def</span> <span class="nf">check_incompressible_navier_stokes_solver</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check incompressible Navier-Stokes solver</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_check_incompressible_navier_stokes_solver</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="Flow360MeshParams">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360MeshParams">[docs]</a>
<span class="k">class</span> <span class="nc">Flow360MeshParams</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Flow360 mesh parameters</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">boundaries</span><span class="p">:</span> <span class="n">MeshBoundary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">sliding_interfaces</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">MeshSlidingInterface</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;slidingInterfaces&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="Flow360MeshParams.flow360_json">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360MeshParams.flow360_json">[docs]</a>
    <span class="k">def</span> <span class="nf">flow360_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_json</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a JSON representation of the model, as required by Flow360</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        return_json : bool, optional</span>
<span class="sd">            whether to return value or return None, by default True</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        json</span>
<span class="sd">            If return_json==True, returns JSON representation of the model.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; params.to_flow360_json() # doctest: +SKIP</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">return_json</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="UnvalidatedFlow360Params">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.UnvalidatedFlow360Params">[docs]</a>
<span class="k">class</span> <span class="nc">UnvalidatedFlow360Params</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Unvalidated parameters</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">UserConfig</span><span class="o">.</span><span class="n">do_validation</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Flow360ConfigError</span><span class="p">(</span>
                <span class="s2">&quot;This is DEV feature. To use it activate by: fl.UserConfig.disable_validation().&quot;</span>
            <span class="p">)</span>
        <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;This is DEV feature, use it only when you know what you are doing.&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="UnvalidatedFlow360Params.flow360_json">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.UnvalidatedFlow360Params.flow360_json">[docs]</a>
    <span class="k">def</span> <span class="nf">flow360_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a JSON representation of the model&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">encoder</span><span class="o">=</span><span class="n">flow360_json_encoder</span><span class="p">)</span></div>


    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;allow&quot;</span></div>



<span class="c1"># Legacy models for Flow360 updater, do not expose</span>


<div class="viewcode-block" id="BETDiskLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BETDiskLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">BETDiskLegacy</span><span class="p">(</span><span class="n">BETDisk</span><span class="p">,</span> <span class="n">LegacyModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`BETDiskLegacy` class&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">Flow360UnitSystem</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">volume_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeName&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;rotationDirectionRule&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_direction_rule</span><span class="p">,</span>
            <span class="s2">&quot;centerOfRotation&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">center_of_rotation</span><span class="p">,</span>
            <span class="s2">&quot;axisOfRotation&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis_of_rotation</span><span class="p">,</span>
            <span class="s2">&quot;numberOfBlades&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_blades</span><span class="p">,</span>
            <span class="s2">&quot;radius&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
            <span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">omega</span><span class="p">,</span>
            <span class="s2">&quot;chordRef&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">chord_ref</span><span class="p">,</span>
            <span class="s2">&quot;thickness&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
            <span class="s2">&quot;nLoadingNodes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_loading_nodes</span><span class="p">,</span>
            <span class="s2">&quot;bladeLineChord&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">blade_line_chord</span><span class="p">,</span>
            <span class="s2">&quot;initialBladeDirection&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_blade_direction</span><span class="p">,</span>
            <span class="s2">&quot;tipGap&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tip_gap</span><span class="p">,</span>
            <span class="s2">&quot;MachNumbers&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">mach_numbers</span><span class="p">,</span>
            <span class="s2">&quot;ReynoldsNumbers&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">reynolds_numbers</span><span class="p">,</span>
            <span class="s2">&quot;alphas&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphas</span><span class="p">,</span>
            <span class="s2">&quot;twists&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">twists</span><span class="p">,</span>
            <span class="s2">&quot;chords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">chords</span><span class="p">,</span>
            <span class="s2">&quot;sectionalPolars&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sectional_polars</span><span class="p">,</span>
            <span class="s2">&quot;sectionalRadiuses&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sectional_radiuses</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">BETDisk</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></div>



<div class="viewcode-block" id="GeometryLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.GeometryLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">GeometryLegacy</span><span class="p">(</span><span class="n">Geometry</span><span class="p">,</span> <span class="n">LegacyModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class: `GeometryLegacy` class&quot;&quot;&quot;</span>

    <span class="n">ref_area</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;refArea&quot;</span><span class="p">)</span>
    <span class="n">moment_center</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Coordinate</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;momentCenter&quot;</span><span class="p">)</span>
    <span class="n">moment_length</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Coordinate</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;momentLength&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360BaseModel</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;momentCenter&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">moment_center</span><span class="p">,</span>
            <span class="s2">&quot;momentLength&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">moment_length</span><span class="p">,</span>
            <span class="s2">&quot;refArea&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ref_area</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">unit</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">unyt_quantity</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">])</span>
            <span class="n">model</span><span class="p">[</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">unit</span>
            <span class="n">try_add_unit</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;momentCenter&quot;</span><span class="p">,</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">])</span>
            <span class="n">try_add_unit</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;momentLength&quot;</span><span class="p">,</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">])</span>
            <span class="n">try_add_unit</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;refArea&quot;</span><span class="p">,</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;meshUnit&quot;</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Geometry</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></div>



<div class="viewcode-block" id="FreestreamLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">FreestreamLegacy</span><span class="p">(</span><span class="n">LegacyModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class: `FreestreamLegacy` class&quot;&quot;&quot;</span>

    <span class="n">Reynolds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">Mach</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">NonNegativeFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">Mach_Ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;MachRef&quot;</span><span class="p">)</span>
    <span class="n">mu_ref</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;muRef&quot;</span><span class="p">)</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="n">PositiveFloat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;Temperature&quot;</span><span class="p">)</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;alphaAngle&quot;</span><span class="p">)</span>
    <span class="n">beta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;betaAngle&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">turbulent_viscosity_ratio</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">NonNegativeFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;turbulentViscosityRatio&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360BaseModel</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_FreestreamTempModel</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Helper class used to create</span>
<span class="sd">            the correct freestream from dict data&quot;&quot;&quot;</span>

            <span class="n">field</span><span class="p">:</span> <span class="n">FreestreamType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span>

        <span class="n">model</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;alphaAngle&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">alpha</span><span class="p">,</span>
                <span class="s2">&quot;betaAngle&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">beta</span><span class="p">,</span>
                <span class="s2">&quot;turbulentViscosityRatio&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbulent_viscosity_ratio</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1"># Set velocity</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;freestreamMeterPerSecond&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># pylint: disable=no-member</span>
                <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;freestreamMeterPerSecond&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
                <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;velocity&quot;</span><span class="p">,</span> <span class="n">velocity</span><span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;speedOfSoundMeterPerSecond&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="c1"># pylint: disable=no-member</span>
                <span class="n">velocity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;speedOfSoundMeterPerSecond&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
                <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;velocity&quot;</span><span class="p">,</span> <span class="n">velocity</span><span class="p">)</span>

            <span class="c1"># Set velocity_ref</span>
            <span class="n">velocity</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;velocity&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">velocity</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">velocity</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ZeroVelocity&quot;</span>
                    <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;velocity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;FromVelocity&quot;</span>

                <span class="k">if</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;speedOfSoundMeterPerSecond&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach_Ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="p">):</span>
                    <span class="n">velocity_ref</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="c1"># pylint: disable=no-member</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;speedOfSoundMeterPerSecond&quot;</span><span class="p">]</span>
                        <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach_Ref</span>
                        <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span>
                        <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span>
                    <span class="p">)</span>
                    <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;velocityRef&quot;</span><span class="p">,</span> <span class="n">velocity_ref</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;velocityRef&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;Reynolds&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Reynolds</span><span class="p">)</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;muRef&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu_ref</span><span class="p">)</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">)</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;Mach&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach</span><span class="p">)</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;MachRef&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach_Ref</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">Mach</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ZeroMach&quot;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">Reynolds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;FromMachReynolds&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;FromMach&quot;</span>

        <span class="k">return</span> <span class="n">_FreestreamTempModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">field</span>

<div class="viewcode-block" id="FreestreamLegacy.extract_fluid_properties">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.FreestreamLegacy.extract_fluid_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">extract_fluid_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Flow360BaseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract fluid properties from the freestream comments&quot;&quot;&quot;</span>

        <span class="k">class</span> <span class="nc">_FluidPropertiesTempModel</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Helper class used to create</span>
<span class="sd">            the correct fluid properties from dict data&quot;&quot;&quot;</span>

            <span class="n">field</span><span class="p">:</span> <span class="n">FluidPropertyType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

        <span class="n">model</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="p">{}}</span>

        <span class="c1"># pylint: disable=no-member</span>
        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">temperature</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">K</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;densityKgPerCubicMeter&quot;</span><span class="p">):</span>
            <span class="c1"># pylint: disable=no-member</span>
            <span class="n">density</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;densityKgPerCubicMeter&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kg</span> <span class="o">/</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="o">**</span><span class="mi">3</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">density</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">_FluidPropertiesTempModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">field</span></div>
</div>



<div class="viewcode-block" id="TimeSteppingLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.TimeSteppingLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">TimeSteppingLegacy</span><span class="p">(</span><span class="n">BaseTimeStepping</span><span class="p">,</span> <span class="n">LegacyModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class: `TimeSteppingLegacy` class&quot;&quot;&quot;</span>

    <span class="n">physical_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveInt</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;physicalSteps&quot;</span><span class="p">)</span>
    <span class="n">time_step_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;inf&quot;</span><span class="p">],</span> <span class="n">PositiveFloat</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="s2">&quot;inf&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;timeStepSize&quot;</span>
    <span class="p">)</span>
    <span class="n">physical_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PositiveInt</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;physicalSteps&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360BaseModel</span><span class="p">:</span>
        <span class="k">class</span> <span class="nc">_TimeSteppingTempModel</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Helper class used to create</span>
<span class="sd">            the correct time stepping from dict data&quot;&quot;&quot;</span>

            <span class="n">field</span><span class="p">:</span> <span class="n">TimeStepping</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span>

        <span class="n">model</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;CFL&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">CFL</span><span class="p">,</span>
                <span class="s2">&quot;physicalSteps&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">physical_steps</span><span class="p">,</span>
                <span class="s2">&quot;maxPseudoSteps&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_pseudo_steps</span><span class="p">,</span>
                <span class="s2">&quot;timeStepSize&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_step_size</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">time_step</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;timeStepSize&quot;</span><span class="p">]</span>

        <span class="n">steady_state</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">time_step</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">time_step</span> <span class="o">==</span> <span class="s2">&quot;inf&quot;</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">steady_state</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;timeStepSizeInSeconds&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="n">step_unit</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">unyt_quantity</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;timeStepSizeInSeconds&quot;</span><span class="p">],</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
            <span class="n">try_add_unit</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">],</span> <span class="s2">&quot;timeStepSize&quot;</span><span class="p">,</span> <span class="n">step_unit</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">steady_state</span> <span class="ow">and</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;physicalSteps&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Steady&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">][</span><span class="s2">&quot;modelType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Unsteady&quot;</span>

        <span class="k">return</span> <span class="n">_TimeSteppingTempModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model</span><span class="p">)</span><span class="o">.</span><span class="n">field</span></div>



<div class="viewcode-block" id="SlidingInterfaceLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.SlidingInterfaceLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">SlidingInterfaceLegacy</span><span class="p">(</span><span class="n">SlidingInterface</span><span class="p">,</span> <span class="n">LegacyModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class:`SlidingInterfaceLegacy` class&quot;&quot;&quot;</span>

    <span class="n">omega</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360BaseModel</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;modelType&quot;</span><span class="p">:</span> <span class="s2">&quot;FluidDynamics&quot;</span><span class="p">,</span>
            <span class="s2">&quot;referenceFrame&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;axis&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">axis</span><span class="p">,</span>
                <span class="c1"># pylint: disable=no-member</span>
                <span class="s2">&quot;center&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">center</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;isDynamic&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_dynamic</span><span class="p">)</span>
        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;omegaRadians&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">omega</span><span class="p">)</span>
        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;omegaRadians&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">omega_radians</span><span class="p">)</span>
        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;omegaDegrees&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">omega_degrees</span><span class="p">)</span>
        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;thetaRadians&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_radians</span><span class="p">)</span>
        <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;thetaDegrees&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">theta_degrees</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpm&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># pylint: disable=no-member</span>
            <span class="n">omega</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">[</span><span class="s2">&quot;rpm&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">rpm</span>
            <span class="n">try_set</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">],</span> <span class="s2">&quot;omega&quot;</span><span class="p">,</span> <span class="n">omega</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;omegaRadians&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">][</span><span class="s2">&quot;omegaRadians&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;omegaDegrees&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">][</span><span class="s2">&quot;omegaDegrees&quot;</span><span class="p">]</span>

        <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;OmegaRadians&quot;</span><span class="p">,</span> <span class="s2">&quot;OmegaDegrees&quot;</span><span class="p">,</span> <span class="s2">&quot;Expression&quot;</span><span class="p">,</span> <span class="s2">&quot;Dynamic&quot;</span><span class="p">,</span> <span class="s2">&quot;ReferenceFrame&quot;</span><span class="p">]</span>

        <span class="n">try_add_discriminator</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;referenceFrame/modelType&quot;</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">FluidDynamicsVolumeZone</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">FluidDynamicsVolumeZone</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">require_one_of</span> <span class="o">=</span> <span class="n">SlidingInterface</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">require_one_of</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;omega&quot;</span><span class="p">]</span></div>



<div class="viewcode-block" id="BoundariesLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.BoundariesLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">BoundariesLegacy</span><span class="p">(</span><span class="n">Boundaries</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Legacy Boundaries class&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">Flow360UnitSystem</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="VolumeZonesLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.VolumeZonesLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">VolumeZonesLegacy</span><span class="p">(</span><span class="n">VolumeZones</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Legacy VolumeZones class&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">_ReferenceFrameTempModel</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
            <span class="n">field</span><span class="p">:</span> <span class="n">ReferenceFrameType</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;model_type&quot;</span><span class="p">)</span>

        <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;OmegaRadians&quot;</span><span class="p">,</span> <span class="s2">&quot;OmegaDegrees&quot;</span><span class="p">,</span> <span class="s2">&quot;Expression&quot;</span><span class="p">,</span> <span class="s2">&quot;Dynamic&quot;</span><span class="p">,</span> <span class="s2">&quot;ReferenceFrame&quot;</span><span class="p">]</span>

        <span class="k">with</span> <span class="n">Flow360UnitSystem</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="c1"># Try to add discriminators to every volume zone,</span>
            <span class="c1"># to be removed (or rather, moved into update_model)</span>
            <span class="c1"># later after we fully decouple legacy models from</span>
            <span class="c1"># current models</span>
            <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">frame</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="n">frame</span><span class="p">}</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="n">try_add_discriminator</span><span class="p">(</span>
                        <span class="n">model</span><span class="p">,</span> <span class="s2">&quot;field/modelType&quot;</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">_ReferenceFrameTempModel</span>
                    <span class="p">)</span>
                    <span class="n">value</span><span class="p">[</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span>

            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="Flow360ParamsLegacy">
<a class="viewcode-back" href="../../../../flow360doc/component/flow360_params.html#flow360.component.flow360_params.flow360_params.Flow360ParamsLegacy">[docs]</a>
<span class="k">class</span> <span class="nc">Flow360ParamsLegacy</span><span class="p">(</span><span class="n">LegacyModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;:class: `Flow360ParamsLegacy` class&quot;&quot;&quot;</span>

    <span class="n">geometry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">GeometryLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">freestream</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FreestreamLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="n">time_stepping</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TimeSteppingLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;timeStepping&quot;</span><span class="p">)</span>
    <span class="n">navier_stokes_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">NavierStokesSolverLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;navierStokesSolver&quot;</span><span class="p">)</span>
    <span class="n">turbulence_model_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">NoneSolver</span><span class="p">,</span> <span class="n">TurbulenceModelSolverLegacy</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;turbulenceModelSolver&quot;</span>
    <span class="p">)</span>
    <span class="n">transition_model_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TransitionModelSolverLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;transitionModelSolver&quot;</span>
    <span class="p">)</span>
    <span class="n">heat_equation_solver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HeatEquationSolverLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;heatEquationSolver&quot;</span><span class="p">)</span>
    <span class="n">bet_disks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">BETDiskLegacy</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;BETDisks&quot;</span><span class="p">)</span>
    <span class="n">sliding_interfaces</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">SlidingInterfaceLegacy</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;slidingInterfaces&quot;</span><span class="p">)</span>
    <span class="n">surface_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SurfaceOutputLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;surfaceOutput&quot;</span><span class="p">)</span>
    <span class="n">volume_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VolumeOutputLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeOutput&quot;</span><span class="p">)</span>
    <span class="n">slice_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SliceOutputLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;sliceOutput&quot;</span><span class="p">)</span>
    <span class="n">iso_surface_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IsoSurfaceOutputLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;isoSurfaceOutput&quot;</span><span class="p">)</span>
    <span class="n">boundaries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BoundariesLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
    <span class="c1"># Needs decoupling from current model</span>
    <span class="n">initial_condition</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">InitialConditions</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;initialCondition&quot;</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;type&quot;</span>
    <span class="p">)</span>
    <span class="c1"># Needs decoupling from current model</span>
    <span class="n">actuator_disks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ActuatorDisk</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;actuatorDisks&quot;</span><span class="p">)</span>
    <span class="c1"># Needs decoupling from current model</span>
    <span class="n">porous_media</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">PorousMedium</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;porousMedia&quot;</span><span class="p">)</span>
    <span class="c1"># Needs decoupling from current model</span>
    <span class="n">user_defined_dynamics</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">UserDefinedDynamic</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
        <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;userDefinedDynamics&quot;</span>
    <span class="p">)</span>
    <span class="c1"># Needs decoupling from current model</span>
    <span class="n">monitor_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">MonitorOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;monitorOutput&quot;</span><span class="p">)</span>
    <span class="n">volume_zones</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VolumeZonesLegacy</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;volumeZones&quot;</span><span class="p">)</span>
    <span class="c1"># Needs decoupling from current model</span>
    <span class="n">aeroacoustic_output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AeroacousticOutput</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;aeroacousticOutput&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_has_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">model_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_key</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_is_web_ui_generated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fluid_properties</span><span class="p">,</span> <span class="n">freestream</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">fluid_properties</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">freestream</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">freestream</span><span class="p">,</span> <span class="n">FreestreamFromVelocity</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow360BaseModel</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">freestream</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;freestream&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freestream</span><span class="p">)</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">freestream</span><span class="o">.</span><span class="n">extract_fluid_properties</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bet_disks</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">disks</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">disk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bet_disks</span><span class="p">:</span>
                <span class="n">disks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">try_update</span><span class="p">(</span><span class="n">disk</span><span class="p">))</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;bet_disks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">disks</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sliding_interfaces</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">volume_zones</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">interface</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sliding_interfaces</span><span class="p">:</span>
                <span class="n">volume_zone</span> <span class="o">=</span> <span class="n">try_update</span><span class="p">(</span><span class="n">interface</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">interface</span><span class="p">)</span>
                <span class="n">volume_name</span> <span class="o">=</span> <span class="n">interface</span><span class="o">.</span><span class="n">volume_name</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">interface</span><span class="o">.</span><span class="n">volume_name</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">volume_name</span> <span class="o">=</span> <span class="n">interface</span><span class="o">.</span><span class="n">volume_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">volume_zones</span><span class="p">[</span><span class="n">volume_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume_zone</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;volume_zones&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">VolumeZones</span><span class="p">(</span><span class="o">**</span><span class="n">volume_zones</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_web_ui_generated</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fluid_properties&quot;</span><span class="p">),</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;freestream&quot;</span><span class="p">)):</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">SI_unit_system</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">flow360_unit_system</span>

        <span class="k">with</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">),</span>
                    <span class="s2">&quot;boundaries&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">boundaries</span><span class="p">,</span>
                    <span class="s2">&quot;initial_condition&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_condition</span><span class="p">,</span>
                    <span class="s2">&quot;time_stepping&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_stepping</span><span class="p">),</span>
                    <span class="s2">&quot;navier_stokes_solver&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">navier_stokes_solver</span><span class="p">),</span>
                    <span class="s2">&quot;turbulence_model_solver&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">turbulence_model_solver</span><span class="p">),</span>
                    <span class="s2">&quot;transition_model_solver&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transition_model_solver</span><span class="p">),</span>
                    <span class="s2">&quot;heat_equation_solver&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">heat_equation_solver</span><span class="p">),</span>
                    <span class="s2">&quot;actuator_disks&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">actuator_disks</span><span class="p">,</span>
                    <span class="s2">&quot;porous_media&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">porous_media</span><span class="p">,</span>
                    <span class="s2">&quot;user_defined_dynamics&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_defined_dynamics</span><span class="p">,</span>
                    <span class="s2">&quot;surface_output&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">surface_output</span><span class="p">),</span>
                    <span class="s2">&quot;volume_output&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volume_output</span><span class="p">),</span>
                    <span class="s2">&quot;slice_output&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slice_output</span><span class="p">),</span>
                    <span class="s2">&quot;iso_surface_output&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iso_surface_output</span><span class="p">),</span>
                    <span class="s2">&quot;monitor_output&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor_output</span><span class="p">,</span>
                    <span class="s2">&quot;aeroacoustic_output&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">aeroacoustic_output</span><span class="p">,</span>
                    <span class="s2">&quot;fluid_properties&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="s2">&quot;volume_zones&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume_zones</span><span class="p">,</span>
                    <span class="s2">&quot;bet_disks&quot;</span><span class="p">:</span> <span class="n">try_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bet_disks</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>

            <span class="n">model</span> <span class="o">=</span> <span class="n">Flow360Params</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">model</span>

    <span class="c1"># pylint: disable=missing-class-docstring,too-few-public-methods</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">(</span><span class="n">Flow360BaseModel</span><span class="o">.</span><span class="n">Config</span><span class="p">):</span>
        <span class="n">allow_but_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;runControl&quot;</span><span class="p">,</span> <span class="s2">&quot;testControl&quot;</span><span class="p">]</span></div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">flow360 python client</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../flow360.html">flow360 python client package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../flow360doc/cli.html">commandline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../flow360doc/cloud.html">cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../flow360doc/component/flow360_params.html">flow360 solvers parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../flow360doc/component/meshing.html">flow360 meshing parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../flow360doc/components.html">component</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, Author.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>